<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project StravaðŸ¦¿</title>

    <!-- load our code -->
    <script defer type="module" src="/src/main.ts"></script>
  </head>
  <body>
    <div
      id="app"
      x-data="dropdown()"
      x-init="initStravaApp()"
    >
      <h1> <span class="main-text">Project</span> StravaðŸ¦¿</h1>
      <p class="read-the-docs">Upload any run to Strava with a single click</p>
      <a href="https://gpx.studio/app" target="_blank">Modify and create your routes.</a> 
      <div class="upload-container">
        <input
          type="file"
          id="gpxFile"
          accept=".gpx"
          @change="handleFileChange($event)"
        />
        <button x-show="!tokenCode" @click="getAuthorizationUrlTokenCode()">Get Authorization URL</button>
        <button
          id="uploadButton"
          :disabled="isUploadDisabled"
          @click="handleUpload()"
        >
          Upload GPX to Strava
        </button>
        <button
          id="checkStatusButton"
          :disabled="isCheckDisabled"
          @click="checkStatus()"
        >
          Check Upload Status
        </button>
      </div>
      <p id="status" x-html="status"></p>
    </div>
  </body>
</html>
